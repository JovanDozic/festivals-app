<div class="container mat-elevation-z4" *ngIf="userProfile">
  <div class="profile-header">
    <div class="title-container">
      <button
        mat-icon-button
        matTooltip="Go Back"
        color="primary"
        (click)="goBack()"
      >
        <mat-icon>arrow_back</mat-icon>
      </button>
      <h1>
        Users <mat-icon color="primary">arrow_forward_ios</mat-icon>
        {{ userProfile.username }}
      </h1>
    </div>
    <div class="button-container"></div>
  </div>

  <div class="profile-content">
    <mat-card class="profile-card">
      <mat-card-title>Personal Information</mat-card-title>
      <mat-card-content>
        <span class="icon-property">
          <mat-icon class="material-symbols-outlined" color="primary">
            admin_panel_settings
          </mat-icon>
          <strong>Role:</strong>
          <span class="number-mono">{{ userProfile.role }}</span>
        </span>

        <span class="icon-property">
          <mat-icon class="material-symbols-outlined" color="primary">
            horizontal_rule
          </mat-icon>
          <strong>Username:</strong>
          <span class="number-mono">{{ userProfile.username }}</span>
        </span>

        <span class="icon-property">
          <mat-icon class="material-symbols-outlined" color="primary">
            horizontal_rule
          </mat-icon>
          <strong>Email:</strong>
          <span class="number-mono">{{ userProfile.email }}</span>
        </span>

        <span class="icon-property">
          <mat-icon class="material-symbols-outlined" color="primary">
            horizontal_rule
          </mat-icon>
          <strong>Full Name:</strong> {{ userProfile.firstName }}
          {{ userProfile.lastName }}
        </span>

        <span class="icon-property">
          <mat-icon class="material-symbols-outlined" color="primary">
            horizontal_rule
          </mat-icon>
          <strong>Date of Birth:</strong>
          <span class="number-mono">{{ userProfile.dateOfBirth }}</span>
        </span>

        <span class="icon-property">
          <mat-icon class="material-symbols-outlined" color="primary">
            horizontal_rule
          </mat-icon>
          <strong>Phone Number:</strong>
          <span class="number-mono">{{ userProfile.phoneNumber }}</span>
        </span>
      </mat-card-content>
    </mat-card>

    <mat-card class="profile-card" *ngIf="userProfile.address">
      <mat-card-title>Address</mat-card-title>
      <mat-card-content *ngIf="userProfile.address">
        <span class="icon-property">
          <mat-icon class="material-symbols-outlined" color="primary">
            map
          </mat-icon>
          {{ userProfile.address.street }} {{ userProfile.address.number }}
        </span>
        <span class="icon-property">
          <mat-icon class="material-symbols-outlined" color="primary">
            apartment
          </mat-icon>
          Apartment/Suite:
          {{
            userProfile.address.apartmentSuite === ""
              ? "N/A"
              : userProfile.address.apartmentSuite
          }}
        </span>
        <span class="icon-property">
          <mat-icon class="material-symbols-outlined" color="primary">
            location_on
          </mat-icon>
          {{ userProfile.address.city
          }}{{ ", " + userProfile.address.postalCode }}
        </span>
        <span class="icon-property">
          <span
            [ngClass]="'fi fi-' + userProfile.address.countryISO2.toLowerCase()"
          >
          </span>
          {{ userProfile.address.country }}
        </span>
      </mat-card-content>
    </mat-card>

    <mat-card
      class="profile-card count-card"
      *ngIf="userProfile.role === 'ORGANIZER'"
    >
      <mat-card-title>Festivals</mat-card-title>
      <mat-card-content>
        <span class="big-card-count"> {{ festivalsCount }}</span>
      </mat-card-content>
      <mat-card-actions>
        <button
          class="main-card-action"
          mat-button
          color="primary"
          (click)="onViewFestivalClick()"
        >
          View
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
