<mat-stepper [linear]="isLinear" #stepper>
  <!-- Step 1: Account Creation -->
  <mat-step [stepControl]="accountFormGroup">
    <form [formGroup]="accountFormGroup">
      <ng-template matStepLabel>Account Creation</ng-template>

      <mat-form-field>
        <mat-label>Username</mat-label>
        <input matInput formControlName="usernameCtrl" required />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="emailCtrl" required />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Password</mat-label>
        <input
          matInput
          type="password"
          formControlName="passwordCtrl"
          required
        />
      </mat-form-field>

      <div>
        <button mat-raised-button matStepperNext (click)="createAccount()">
          Next
        </button>
      </div>
    </form>
  </mat-step>

  <!-- Step 2: Personal Information -->
  <mat-step [stepControl]="personalFormGroup">
    <form [formGroup]="personalFormGroup">
      <ng-template matStepLabel>Personal Information</ng-template>

      <mat-form-field>
        <mat-label>First Name</mat-label>
        <input matInput formControlName="firstNameCtrl" required />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Last Name</mat-label>
        <input matInput formControlName="lastNameCtrl" required />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Birthday</mat-label>
        <input matInput type="date" formControlName="birthdayCtrl" required />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Phone</mat-label>
        <input matInput formControlName="phoneCtrl" required />
      </mat-form-field>

      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-raised-button matStepperNext (click)="savePersonalInfo()">
          Next
        </button>
      </div>
    </form>
  </mat-step>

  <!-- Step 3: Address Information -->
  <mat-step [stepControl]="addressFormGroup">
    <form [formGroup]="addressFormGroup">
      <ng-template matStepLabel>Address Information</ng-template>

      <mat-form-field>
        <mat-label>Address</mat-label>
        <input matInput formControlName="addressCtrl" required />
      </mat-form-field>

      <mat-form-field>
        <mat-label>City</mat-label>
        <input matInput formControlName="cityCtrl" required />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Zip Code</mat-label>
        <input matInput formControlName="zipCodeCtrl" required />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Country (ISO3)</mat-label>
        <input matInput formControlName="countryCtrl" required />
      </mat-form-field>

      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button (click)="submitRegistration()">Submit</button>
      </div>
    </form>
  </mat-step>
</mat-stepper>
